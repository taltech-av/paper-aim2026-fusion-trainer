openapi: 3.0.3
info:
  title: Vision Service API
  description: |
    API for managing computer vision datasets, training runs, model evaluation, and analysis.

    ## Key Features
    - Dataset and image management
    - Training run orchestration
    - Model evaluation and benchmarking
    - Visualization generation
    - Project organization
  version: 1.0.0
  contact:
    name: Visin Team
servers:
  - url: http://localhost:4010/api
    description: Development server
  - url: https://vision-api.visin.eu/api
    description: Production server

tags:
  - name: Datasets
    description: Dataset metadata and labeling statistics management
  - name: Dataset Images
    description: Individual dataset image management and storage
  - name: Image Categories
    description: Image category management for dataset organization
  - name: Trainings
    description: Training run management and orchestration
  - name: Epochs
    description: Training epoch data and test results management
  - name: Configurations
    description: Training configuration management
  - name: Test Results
    description: Model testing and evaluation results
  - name: Visualizations
    description: Training epoch visualization management
  - name: Benchmarks
    description: Model benchmark results and performance metrics
  - name: Comparisons
    description: Training/test/benchmark comparison management
  - name: Analysis
    description: Dataset analysis data management
  - name: Projects
    description: Project management for organizing experiments
  - name: API Tokens
    description: API token management for programmatic access

components:
  schemas:
    Error:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Error description"
      required:
        - success
        - message

    Success:
      type: object
      properties:
        success:
          type: boolean
          example: true
      required:
        - success

    PaginationMeta:
      type: object
      properties:
        page:
          type: integer
          example: 1
        limit:
          type: integer
          example: 50
        total:
          type: integer
          example: 150
        pages:
          type: integer
          example: 3

    Dataset:
      type: object
      properties:
        _id:
          type: string
          example: "507f1f77bcf86cd799439011"
        uuid:
          type: string
          example: "550e8400-e29b-41d4-a716-446655440000"
        name:
          type: string
          example: "Cityscapes Dataset"
        description:
          type: string
          example: "Urban scene understanding dataset"
        dataset_info:
          type: object
          additionalProperties: true
        annotations:
          type: object
          additionalProperties: true
        camera:
          type: object
          additionalProperties: true
        lidar:
          type: object
          additionalProperties: true
        metadata:
          type: object
          additionalProperties: true
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    DatasetImage:
      type: object
      properties:
        _id:
          type: string
        filename:
          type: string
        originalName:
          type: string
        minioFileId:
          type: string
        datasetId:
          type: string
        categoryId:
          type: string
        title:
          type: string
        description:
          type: string
        mimetype:
          type: string
        size:
          type: integer
        width:
          type: integer
        height:
          type: integer
        tags:
          type: array
          items:
            type: string
        labels:
          type: array
          items:
            type: string
        weatherCondition:
          type: string
          enum: [day_fair, night_fair, day_rain, night_rain, snow]
        metadata:
          type: object
        signedUrl:
          type: string
        signedUrlExpiresAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    ImageCategory:
      type: object
      properties:
        _id:
          type: string
        name:
          type: string
        description:
          type: string
        datasetId:
          type: string
        color:
          type: string
        createdAt:
          type: string
          format: date-time

    Training:
      type: object
      properties:
        _id:
          type: string
        uuid:
          type: string
        name:
          type: string
        description:
          type: string
        datasetId:
          type: string
        configId:
          type: string
        projectId:
          type: string
        status:
          type: string
          enum: [pending, running, completed, failed]
        tags:
          type: array
          items:
            type: string
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        metadata:
          type: object
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        metrics:
          type: object
          properties:
            totalTime:
              type: number
            epochCount:
              type: integer
            maxEpoch:
              type: integer
            lastEpochTimestamp:
              type: string
            cpuCost:
              type: number
            gpuCost:
              type: number
            totalCost:
              type: number

    Epoch:
      type: object
      properties:
        _id:
          type: string
        epoch_uuid:
          type: string
        training_uuid:
          type: string
        epoch:
          type: integer
        metrics:
          type: object
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    Configuration:
      type: object
      properties:
        _id:
          type: string
        uuid:
          type: string
        name:
          type: string
        trainingId:
          type: string
        config:
          type: object
        createdAt:
          type: string
          format: date-time

    TestResult:
      type: object
      properties:
        _id:
          type: string
        testUuid:
          type: string
        epochUuid:
          type: string
        trainingUuid:
          type: string
        metrics:
          type: object
        results:
          type: object
        createdAt:
          type: string
          format: date-time

    Visualization:
      type: object
      properties:
        _id:
          type: string
        visualization_uuid:
          type: string
        epoch_uuid:
          type: string
        training_uuid:
          type: string
        type:
          type: string
        filename:
          type: string
        minioFileId:
          type: string
        signedUrl:
          type: string
        signedUrlExpiresAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time

    Benchmark:
      type: object
      properties:
        _id:
          type: string
        name:
          type: string
        model:
          type: string
        dataset:
          type: string
        metrics:
          type: object
        createdAt:
          type: string
          format: date-time

    Comparison:
      type: object
      properties:
        _id:
          type: string
        uuid:
          type: string
        name:
          type: string
        type:
          type: string
          enum: [training, test, benchmark]
        items:
          type: array
          items:
            type: string
        results:
          type: object
        createdAt:
          type: string
          format: date-time

    Analysis:
      type: object
      properties:
        _id:
          type: string
        dataset:
          type: string
        data:
          type: object
        createdAt:
          type: string
          format: date-time

    Project:
      type: object
      properties:
        _id:
          type: string
        name:
          type: string
        slug:
          type: string
        description:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    ApiToken:
      type: object
      properties:
        _id:
          type: string
        name:
          type: string
        token:
          type: string
        projectId:
          type: string
        permissions:
          type: array
          items:
            type: string
        expiresAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time

    LabelingStats:
      type: object
      properties:
        total:
          type: integer
        good:
          type: integer
        bad:
          type: integer
        unlabeled:
          type: integer
        goodPercentage:
          type: number
        badPercentage:
          type: number
        unlabeledPercentage:
          type: number

  securitySchemes:
    ApiToken:
      type: apiKey
      in: header
      name: x-api-token
      description: API token for authentication

paths:
  # Datasets
  /datasets:
    get:
      tags: [Datasets]
      summary: Get all datasets
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
        - name: search
          in: query
          schema:
            type: string
        - name: sortBy
          in: query
          schema:
            type: string
            default: updatedAt
        - name: order
          in: query
          schema:
            type: string
            enum: [asc, desc]
            default: desc
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      datasets:
                        type: array
                        items:
                          $ref: '#/components/schemas/Dataset'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Datasets]
      summary: Create a new dataset
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                dataset_info:
                  type: object
                annotations:
                  type: object
                camera:
                  type: object
                lidar:
                  type: object
                metadata:
                  type: object
      responses:
        '201':
          description: Dataset created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Dataset'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalError'

  /datasets/labeling-stats:
    get:
      tags: [Datasets]
      summary: Get global labeling statistics
      description: Get labeling statistics across all datasets
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/LabelingStats'

  /datasets/{id}:
    get:
      tags: [Datasets]
      summary: Get dataset by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Dataset'
        '404':
          $ref: '#/components/responses/NotFound'

  /datasets/uuid/{uuid}:
    get:
      tags: [Datasets]
      summary: Get dataset by UUID
      parameters:
        - name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Dataset'
        '404':
          $ref: '#/components/responses/NotFound'

  # Dataset Images
  /dataset-images:
    get:
      tags: [Dataset Images]
      summary: Get all dataset images
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
        - name: search
          in: query
          schema:
            type: string
        - name: tags
          in: query
          schema:
            type: string
        - name: weatherCondition
          in: query
          schema:
            type: string
            enum: [day_fair, night_fair, day_rain, night_rain, snow]
        - name: random
          in: query
          schema:
            type: boolean
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      images:
                        type: array
                        items:
                          $ref: '#/components/schemas/DatasetImage'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Dataset Images]
      summary: Create a new dataset image
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                filename:
                  type: string
                originalName:
                  type: string
                datasetId:
                  type: string
                categoryId:
                  type: string
                title:
                  type: string
                description:
                  type: string
                mimetype:
                  type: string
                size:
                  type: integer
                width:
                  type: integer
                height:
                  type: integer
                tags:
                  type: array
                  items:
                    type: string
                labels:
                  type: array
                  items:
                    type: string
                weatherCondition:
                  type: string
                  enum: [day_fair, night_fair, day_rain, night_rain, snow]
                metadata:
                  type: object
      responses:
        '201':
          description: Image created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/DatasetImage'

  /dataset-images/dataset/{datasetId}:
    get:
      tags: [Dataset Images]
      summary: Get images by dataset ID
      parameters:
        - name: datasetId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
        - name: search
          in: query
          schema:
            type: string
        - name: tags
          in: query
          schema:
            type: string
        - name: weatherCondition
          in: query
          schema:
            type: string
            enum: [day_fair, night_fair, day_rain, night_rain, snow]
        - name: sortBy
          in: query
          schema:
            type: string
        - name: sortOrder
          in: query
          schema:
            type: string
            enum: [asc, desc]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      images:
                        type: array
                        items:
                          $ref: '#/components/schemas/DatasetImage'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'

  /dataset-images/{id}:
    get:
      tags: [Dataset Images]
      summary: Get dataset image by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/DatasetImage'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Dataset Images]
      summary: Update dataset image
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                categoryId:
                  type: string
                title:
                  type: string
                description:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
                labels:
                  type: array
                  items:
                    type: string
                weatherCondition:
                  type: string
                  enum: [day_fair, night_fair, day_rain, night_rain, snow]
                metadata:
                  type: object
      responses:
        '200':
          description: Image updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/DatasetImage'
    delete:
      tags: [Dataset Images]
      summary: Delete dataset image
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Image deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '404':
          $ref: '#/components/responses/NotFound'

  /dataset-images/export-names/{datasetId}:
    get:
      tags: [Dataset Images]
      summary: Export image names as CSV
      description: Export image filenames and original names as a CSV file, optionally filtered by tag
      parameters:
        - name: datasetId
          in: path
          required: true
          schema:
            type: string
          description: Dataset ID to export images from
        - name: tag
          in: query
          schema:
            type: string
            enum: [good, bad]
          description: Filter images by tag (good/bad/all)
      responses:
        '200':
          description: CSV file containing image names
          content:
            text/csv:
              schema:
                type: string
                example: "filename,original_name\nimage1.jpg,original_image1.jpg\nimage2.jpg,original_image2.jpg"
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalError'

  # Image Categories
  /image-categories:
    get:
      tags: [Image Categories]
      summary: Get all image categories
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/ImageCategory'
    post:
      tags: [Image Categories]
      summary: Create a new image category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - datasetId
              properties:
                name:
                  type: string
                description:
                  type: string
                datasetId:
                  type: string
                color:
                  type: string
      responses:
        '201':
          description: Category created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ImageCategory'

  /image-categories/dataset/{datasetId}:
    get:
      tags: [Image Categories]
      summary: Get categories by dataset ID
      parameters:
        - name: datasetId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/ImageCategory'

  /image-categories/{id}:
    get:
      tags: [Image Categories]
      summary: Get image category by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ImageCategory'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Image Categories]
      summary: Update image category
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                color:
                  type: string
      responses:
        '200':
          description: Category updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ImageCategory'
    delete:
      tags: [Image Categories]
      summary: Delete image category
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Category deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '404':
          $ref: '#/components/responses/NotFound'

  # Trainings
  /trainings:
    get:
      tags: [Trainings]
      summary: Get all trainings
      security:
        - ApiToken: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
        - name: search
          in: query
          schema:
            type: string
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, running, completed, failed]
        - name: datasetId
          in: query
          schema:
            type: string
        - name: projectId
          in: query
          schema:
            type: string
        - name: tags
          in: query
          schema:
            type: array
            items:
              type: string
        - name: sortBy
          in: query
          schema:
            type: string
        - name: order
          in: query
          schema:
            type: string
            enum: [asc, desc]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      trainings:
                        type: array
                        items:
                          $ref: '#/components/schemas/Training'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Trainings]
      summary: Create a new training
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                datasetId:
                  type: string
                configId:
                  type: string
                projectId:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
                metadata:
                  type: object
      responses:
        '201':
          description: Training created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Training'

  /trainings/stats:
    get:
      tags: [Trainings]
      summary: Get training statistics
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      totalTrainings:
                        type: integer
                      totalTime:
                        type: number
                      totalEpochs:
                        type: integer
                      avgEpochTime:
                        type: number
                      totalCpuCost:
                        type: number
                      totalGpuCost:
                        type: number
                      totalCost:
                        type: number
                      filters:
                        type: object

  /trainings/compare:
    post:
      tags: [Trainings]
      summary: Compare trainings
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                trainingIds:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Comparison results
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  /trainings/{id}:
    get:
      tags: [Trainings]
      summary: Get training by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Training'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Trainings]
      summary: Update training
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                status:
                  type: string
                  enum: [pending, running, completed, failed]
                tags:
                  type: array
                  items:
                    type: string
                metadata:
                  type: object
      responses:
        '200':
          description: Training updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Training'
    delete:
      tags: [Trainings]
      summary: Delete training
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Training deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'

  /trainings/uuid/{uuid}:
    get:
      tags: [Trainings]
      summary: Get training by UUID
      security:
        - ApiToken: []
      parameters:
        - name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Training'
        '404':
          $ref: '#/components/responses/NotFound'

  /trainings/{id}/epochs:
    get:
      tags: [Trainings]
      summary: Get epochs for a training
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      epochs:
                        type: array
                        items:
                          $ref: '#/components/schemas/Epoch'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'

  /trainings/{id}/comments:
    get:
      tags: [Trainings]
      summary: Get comments for a training
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            default: 1000
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      comments:
                        type: array
                        items:
                          type: object  # Would define Comment schema if it existed

  /trainings/{id}/configs:
    get:
      tags: [Trainings]
      summary: Get configurations for a training
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Configuration'

  # Epochs
  /epochs:
    post:
      tags: [Epochs]
      summary: Create a new epoch
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                epoch_uuid:
                  type: string
                training_uuid:
                  type: string
                epoch:
                  type: integer
                metrics:
                  type: object
      responses:
        '201':
          description: Epoch created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Epoch'

  /epochs/batch:
    post:
      tags: [Epochs]
      summary: Create multiple epochs
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                epochs:
                  type: array
                  items:
                    type: object
                    properties:
                      epoch_uuid:
                        type: string
                      training_uuid:
                        type: string
                      epoch:
                        type: integer
                      metrics:
                        type: object
      responses:
        '201':
          description: Epochs created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Epoch'

  /epochs/upload:
    post:
      tags: [Epochs]
      summary: Upload epoch data from JSON
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                epoch_uuid:
                  type: string
                training_uuid:
                  type: string
                epoch:
                  type: integer
                metrics:
                  type: object
      responses:
        '201':
          description: Epoch uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Epoch'

  /epochs/{id}:
    get:
      tags: [Epochs]
      summary: Get epoch by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Epoch'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Epochs]
      summary: Update epoch
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                metrics:
                  type: object
      responses:
        '200':
          description: Epoch updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Epoch'

  /epochs/uuid/{uuid}:
    get:
      tags: [Epochs]
      summary: Get epoch by UUID
      security:
        - ApiToken: []
      parameters:
        - name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Epoch'
        '404':
          $ref: '#/components/responses/NotFound'

  /epochs/uuid/{uuid}/test-results:
    get:
      tags: [Epochs]
      summary: Get test results for an epoch
      security:
        - ApiToken: []
      parameters:
        - name: uuid
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      testResults:
                        type: array
                        items:
                          $ref: '#/components/schemas/TestResult'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'

  /epochs/training/{trainingId}:
    get:
      tags: [Epochs]
      summary: Get epochs by training ID
      security:
        - ApiToken: []
      parameters:
        - name: trainingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Epoch'

  # Configurations
  /configs:
    get:
      tags: [Configurations]
      summary: Get all configurations
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Configuration'
    post:
      tags: [Configurations]
      summary: Create a new configuration
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                trainingId:
                  type: string
                config:
                  type: object
      responses:
        '201':
          description: Configuration created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Configuration'

  /configs/upload:
    post:
      tags: [Configurations]
      summary: Upload configuration from JSON
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                trainingId:
                  type: string
                config:
                  type: object
      responses:
        '201':
          description: Configuration uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Configuration'

  /configs/{id}:
    get:
      tags: [Configurations]
      summary: Get configuration by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Configuration'
        '404':
          $ref: '#/components/responses/NotFound'

  /configs/uuid/{uuid}:
    get:
      tags: [Configurations]
      summary: Get configuration by UUID
      security:
        - ApiToken: []
      parameters:
        - name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Configuration'
        '404':
          $ref: '#/components/responses/NotFound'

  # Test Results
  /test-results:
    get:
      tags: [Test Results]
      summary: Get all test results
      security:
        - ApiToken: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      testResults:
                        type: array
                        items:
                          $ref: '#/components/schemas/TestResult'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Test Results]
      summary: Create a new test result
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                testUuid:
                  type: string
                epochUuid:
                  type: string
                trainingUuid:
                  type: string
                metrics:
                  type: object
                results:
                  type: object
      responses:
        '201':
          description: Test result created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/TestResult'

  /test-results/upload:
    post:
      tags: [Test Results]
      summary: Upload test result from JSON
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                testUuid:
                  type: string
                epochUuid:
                  type: string
                trainingUuid:
                  type: string
                metrics:
                  type: object
                results:
                  type: object
      responses:
        '201':
          description: Test result uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/TestResult'

  /test-results/compare:
    post:
      tags: [Test Results]
      summary: Compare test results
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                testResultIds:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Comparison results
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  /test-results/compare/aggregated:
    post:
      tags: [Test Results]
      summary: Compare aggregated test results by training
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                trainingIds:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Aggregated comparison results
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  /test-results/epochs:
    get:
      tags: [Test Results]
      summary: Get test result epochs
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: integer

  /test-results/{id}:
    get:
      tags: [Test Results]
      summary: Get test result by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/TestResult'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Test Results]
      summary: Update test result
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                metrics:
                  type: object
                results:
                  type: object
      responses:
        '200':
          description: Test result updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/TestResult'
    delete:
      tags: [Test Results]
      summary: Delete test result
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Test result deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'

  /test-results/test/{testUuid}:
    get:
      tags: [Test Results]
      summary: Get test result by test UUID
      security:
        - ApiToken: []
      parameters:
        - name: testUuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/TestResult'
        '404':
          $ref: '#/components/responses/NotFound'

  # Visualizations
  /visualizations:
    get:
      tags: [Visualizations]
      summary: Get all visualizations
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Visualization'
    post:
      tags: [Visualizations]
      summary: Create a new visualization
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                visualization_uuid:
                  type: string
                epoch_uuid:
                  type: string
                training_uuid:
                  type: string
                type:
                  type: string
                filename:
                  type: string
                minioFileId:
                  type: string
      responses:
        '201':
          description: Visualization created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Visualization'

  /visualizations/upload-url:
    post:
      tags: [Visualizations]
      summary: Get upload URL for visualization
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                epoch_uuid:
                  type: string
                filename:
                  type: string
                type:
                  type: string
                mimetype:
                  type: string
      responses:
        '200':
          description: Upload URL generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      uploadUrl:
                        type: string
                      visualization_uuid:
                        type: string

  /visualizations/types:
    get:
      tags: [Visualizations]
      summary: Get visualization types
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: string

  /visualizations/{visualization_uuid}:
    get:
      tags: [Visualizations]
      summary: Get visualization by UUID
      security:
        - ApiToken: []
      parameters:
        - name: visualization_uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Visualization'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [Visualizations]
      summary: Delete visualization
      security:
        - ApiToken: []
      parameters:
        - name: visualization_uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Visualization deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'

  /visualizations/epoch/{epoch_uuid}:
    get:
      tags: [Visualizations]
      summary: Get visualizations by epoch UUID
      security:
        - ApiToken: []
      parameters:
        - name: epoch_uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      visualizations:
                        type: array
                        items:
                          $ref: '#/components/schemas/Visualization'
                      total:
                        type: integer

  /visualizations/training/{training_uuid}:
    get:
      tags: [Visualizations]
      summary: Get visualizations by training UUID
      security:
        - ApiToken: []
      parameters:
        - name: training_uuid
          in: path
          required: true
          schema:
            type: string
        - name: type
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
        - name: projectId
          in: query
          schema:
            type: string
        - name: includeUrls
          in: query
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    oneOf:
                      - $ref: '#/components/schemas/PaginatedResponse'
                      - type: object
                        properties:
                          trainings:
                            type: array
                            items:
                              type: object
                              properties:
                                training_uuid:
                                  type: string
                                training_name:
                                  type: string
                                visualizations:
                                  type: array
                                  items:
                                    $ref: '#/components/schemas/Visualization'
                          total:
                            type: integer

  # Benchmarks
  /benchmarks:
    get:
      tags: [Benchmarks]
      summary: Get all benchmarks
      security:
        - ApiToken: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      benchmarks:
                        type: array
                        items:
                          $ref: '#/components/schemas/Benchmark'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Benchmarks]
      summary: Create a new benchmark
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                model:
                  type: string
                dataset:
                  type: string
                metrics:
                  type: object
      responses:
        '201':
          description: Benchmark created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Benchmark'

  /benchmarks/upload:
    post:
      tags: [Benchmarks]
      summary: Upload benchmark from JSON
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                model:
                  type: string
                dataset:
                  type: string
                metrics:
                  type: object
      responses:
        '201':
          description: Benchmark uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Benchmark'

  /benchmarks/stats:
    get:
      tags: [Benchmarks]
      summary: Get benchmark statistics
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  /benchmarks/{id}:
    get:
      tags: [Benchmarks]
      summary: Get benchmark by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Benchmark'
        '404':
          $ref: '#/components/responses/NotFound'

  # Comparisons
  /comparisons:
    get:
      tags: [Comparisons]
      summary: Get all comparisons
      security:
        - ApiToken: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      comparisons:
                        type: array
                        items:
                          $ref: '#/components/schemas/Comparison'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Comparisons]
      summary: Create a new comparison
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                type:
                  type: string
                  enum: [training, test, benchmark]
                items:
                  type: array
                  items:
                    type: string
                results:
                  type: object
      responses:
        '201':
          description: Comparison created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Comparison'

  /comparisons/stats:
    get:
      tags: [Comparisons]
      summary: Get comparison statistics
      security:
        - ApiToken: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  /comparisons/{id}:
    get:
      tags: [Comparisons]
      summary: Get comparison by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Comparison'
        '404':
          $ref: '#/components/responses/NotFound'

  /comparisons/uuid/{uuid}:
    get:
      tags: [Comparisons]
      summary: Get comparison by UUID
      security:
        - ApiToken: []
      parameters:
        - name: uuid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Comparison'
        '404':
          $ref: '#/components/responses/NotFound'

  # Analysis
  /analysis:
    get:
      tags: [Analysis]
      summary: Get all analyses
      security:
        - ApiToken: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
        - name: skip
          in: query
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Analysis'

  /analysis/dataset/{name}:
    get:
      tags: [Analysis]
      summary: Get analysis by dataset name
      security:
        - ApiToken: []
      parameters:
        - name: name
          in: path
          required: true
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
        - name: skip
          in: query
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Analysis'

  /analysis/{id}:
    get:
      tags: [Analysis]
      summary: Get analysis by ID
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Analysis'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Analysis]
      summary: Update analysis
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: object
      responses:
        '200':
          description: Analysis updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Analysis'
    delete:
      tags: [Analysis]
      summary: Delete analysis
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Analysis deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'

  /analysis/compare:
    post:
      tags: [Analysis]
      summary: Compare analyses
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                analysisIds:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Comparison results
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  /analysis/upload:
    post:
      tags: [Analysis]
      summary: Upload analysis data
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dataset:
                  type: string
                data:
                  type: object
      responses:
        '201':
          description: Analysis uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Analysis'

  # Projects
  /projects:
    get:
      tags: [Projects]
      summary: Get all projects
      security:
        - ApiToken: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      projects:
                        type: array
                        items:
                          $ref: '#/components/schemas/Project'
                      pagination:
                        $ref: '#/components/schemas/PaginationMeta'
    post:
      tags: [Projects]
      summary: Create a new project
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                slug:
                  type: string
                description:
                  type: string
      responses:
        '201':
          description: Project created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Project'

  /projects/{id}:
    get:
      tags: [Projects]
      summary: Get project by ID or slug
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Project'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags: [Projects]
      summary: Update project
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                slug:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: Project updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Project'
    delete:
      tags: [Projects]
      summary: Delete project
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Project deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'

  /projects/{id}/dashboard-stats:
    get:
      tags: [Projects]
      summary: Get project dashboard statistics
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object

  # API Tokens
  /api-tokens:
    get:
      tags: [API Tokens]
      summary: Get API tokens for project
      security:
        - ApiToken: []
      parameters:
        - name: projectId
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApiToken'
    post:
      tags: [API Tokens]
      summary: Create a new API token
      security:
        - ApiToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - projectId
              properties:
                name:
                  type: string
                projectId:
                  type: string
                permissions:
                  type: array
                  items:
                    type: string
                expiresAt:
                  type: string
                  format: date-time
      responses:
        '201':
          description: API token created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ApiToken'

  /api-tokens/{id}:
    delete:
      tags: [API Tokens]
      summary: Revoke API token
      security:
        - ApiToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: API token revoked successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'

  # Health Check
  /health:
    get:
      tags: [System]
      summary: Health check endpoint
      responses:
        '200':
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "ok"
                  timestamp:
                    type: string
                    format: date-time